<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    template="/WEB-INF/template.xhtml">

<ui:define name="content">
    <h:form id="formFotografo">
        <p:panel header="Gerenciar Fotógrafos">
            <p:dataTable value="#{fotografoController.list}" var="f" selection="#{fotografoController.selected}" selectionMode="single" rowKey="#{f.id}">
                <p:column headerText="Nome">
                    #{f.nome}
                </p:column>
                <p:column headerText="Email">
                    #{f.email}
                </p:column>
            </p:dataTable>

            <p:commandButton value="Novo" actionListener="#{fotografoController.novo}" update=":formDialog" oncomplete="PF('dialogFotografo').show()" />
            <p:commandButton value="Editar" actionListener="#{fotografoController.setEntity(fotografoController.selected)}" update=":formDialog" oncomplete="PF('dialogFotografo').show()" disabled="#{empty fotografoController.selected}" />
            <p:commandButton value="Excluir" action="#{fotografoController.excluir}" update="@form" disabled="#{empty fotografoController.selected}" />
        </p:panel>
    </h:form>

    <p:dialog header="Cadastro de Fotógrafo" widgetVar="dialogFotografo" modal="true" resizable="false">
        <h:form id="formDialog">
            <p:panelGrid columns="2">
                <p:outputLabel for="nome" value="Nome:" />
                <p:inputText id="nome" value="#{fotografoController.entity.nome}" required="true"/>

                <p:outputLabel for="email" value="Email:" />
                <p:inputText id="email" value="#{fotografoController.entity.email}" required="true"/>

                <p:outputLabel for="senha" value="Senha:" />
                <p:password id="senha" value="#{fotografoController.entity.senha}" required="true"/>
            </p:panelGrid>
            <p:commandButton value="Salvar" action="#{fotografoController.salvar}" update=":formFotografo" oncomplete="PF('dialogFotografo').hide()" />
        </h:form>
    </p:dialog>
</ui:define>
</ui:composition>
